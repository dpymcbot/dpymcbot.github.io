<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPORT | ã“ã‚“é¯– å…¬å¼ã‚µã‚¤ãƒˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #339af0; 
            --bg-light: #f8f9fa; 
            --card-bg: #ffffff;
            --text-main: #2d3436; 
            --text-sub: #636e72; 
            --border: #eef2f7;
            --nav-bg: rgba(255, 255, 255, 0.8);
            --soft-red: #e66767;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-light: #121212; 
                --card-bg: #1e1e1e;
                --text-main: #f8f9fa; 
                --text-sub: #b2bec3;
                --border: #2d3436; 
                --nav-bg: rgba(30, 30, 30, 0.8);
            }
        }

        * { box-sizing: border-box; }
        html { overflow-y: scroll; }
        body { 
            margin: 0; 
            padding: 0;
            padding-top: 80px; 
            font-family: 'Noto Sans JP', sans-serif; 
            background-color: var(--bg-light); 
            color: var(--text-main); 
            line-height: 1.8; 
            min-height: 100vh;
        }
        
        .navbar { 
            position: fixed; top: 0; left: 0; width: 100%; height: 60px; 
            background: var(--nav-bg); backdrop-filter: blur(10px); 
            border-bottom: 1px solid var(--border); z-index: 1000; 
            display: flex; align-items: center; justify-content: flex-end; 
            padding-right: 40px; gap: 20px; 
        }
        .navbar a { text-decoration: none; color: var(--text-main); font-weight: 700; font-size: 0.85rem; transition: 0.3s; }
        .navbar a:hover { color: var(--primary); }

        .container { max-width: 950px; margin: 0 auto; padding: 0 20px 60px; display: grid; grid-template-columns: 1fr 1.3fr; gap: 40px; }
        @media (max-width: 850px) { .container { grid-template-columns: 1fr; padding: 20px; } }

        .reveal { opacity: 0; transform: translateY(15px); transition: 0.5s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .info-side h1 { font-size: 2.2rem; font-weight: 900; border-left: 6px solid var(--primary); padding-left: 15px; margin: 0 0 30px; }
        .info-side p { font-size: 1rem; color: var(--text-sub); margin-bottom: 25px; }

        .guideline-card { background: var(--card-bg); padding: 25px; border-radius: 25px; border: 1px solid var(--border); }
        .guideline-title { font-weight: 900; font-size: 1.1rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; color: var(--primary); }
        .guideline-list { list-style: none; padding: 0; margin: 0; font-size: 0.95rem; color: var(--text-sub); }
        .guideline-list li { margin-bottom: 10px; display: flex; gap: 10px; }
        .guideline-list i { color: var(--primary); margin-top: 5px; }
        
        .note { font-size: 0.85rem; color: var(--soft-red); margin-top: 20px; padding-top: 15px; border-top: 1px dashed var(--border); line-height: 1.5; display: block; }

        .form-card { background: var(--card-bg); padding: 35px; border-radius: 25px; border: 1px solid var(--border); box-shadow: 0 4px 10px rgba(0,0,0,0.02); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 0.9rem; font-weight: 700; margin-bottom: 8px; }
        
        input, select, textarea {
            width: 100%; padding: 12px 16px; border: 1px solid var(--border); border-radius: 10px; background: var(--bg-light); color: var(--text-main); font-family: inherit; font-size: 1rem; transition: 0.2s;
        }
        input:focus, textarea:focus { outline: none; border-color: var(--primary); background: var(--card-bg); }
        textarea { resize: vertical; min-height: 150px; }

        .submit-area { position: relative; min-height: 56px; margin-top: 20px; }
        .submit-btn {
            width: 100%; height: 56px; border: none; border-radius: 10px; background: var(--primary); color: white; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: 0.2s; display: flex; align-items: center; justify-content: center; gap: 12px;
        }
        .submit-btn:hover { opacity: 0.9; transform: translateY(-2px); }
        .submit-btn:disabled { background: #adb5bd; cursor: not-allowed; transform: none; }

        #msg { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            display: none; align-items: center; justify-content: center; 
            font-size: 1rem; font-weight: 700; border-radius: 10px; 
            animation: fadeIn 0.3s ease; 
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        footer { text-align: center; padding: 40px; font-size: 0.75rem; color: var(--text-sub); border-top: 1px solid var(--border); }
    </style>
</head>
<body>
    <nav class="navbar">
        <a href="index.html">HOME</a>
        <a href="rules.html">RULES</a>
        <a href="staff.html">STAFF</a>
        <a href="report.html" style="color:var(--primary)">REPORT</a>
        <a href="status.html">STATUS</a>
    </nav>

    <div class="container">
        <div class="info-side reveal">
            <h1>REPORT</h1>
            <p>ãƒˆãƒ©ãƒ–ãƒ«ã‚„ãƒã‚°ã®å ±å‘Šã¯ã“ã¡ã‚‰ã‹ã‚‰ã€‚</p>
            <div class="guideline-card">
                <div class="guideline-title"><i class="fas fa-file-alt"></i> å ±å‘Šæ™‚ã®ãƒã‚¤ãƒ³ãƒˆ</div>
                <ul class="guideline-list">
                    <li><i class="fas fa-check"></i> <div><b>å¯¾è±¡è€…:</b> ã‚²ãƒ¼ãƒãƒ¼ã‚¿ã‚°ã‚’æ­£ç¢ºã«</div></li>
                    <li><i class="fas fa-check"></i> <div><b>å ´æ‰€:</b> ã‚µãƒ¼ãƒãƒ¼åã‚„åº§æ¨™</div></li>
                    <li><i class="fas fa-check"></i> <div><b>è©³ç´°:</b> å…·ä½“çš„ã«ãªã«ãŒã‚ã£ãŸã‹</div></li>
                </ul>
                <span class="note"><i class="fas fa-exclamation-triangle"></i> ç¢ºå®Ÿãªå ±å‘Šã«ã¯Discordã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚</span>
            </div>
        </div>

        <div class="form-side reveal">
            <div class="form-card">
                <form id="reportForm">
                    <div class="form-group">
                        <label>ã‚ãªãŸã®ã‚²ãƒ¼ãƒãƒ¼ã‚¿ã‚°</label>
                        <input type="text" id="reporter" placeholder="Steve123" required>
                    </div>
                    <div class="form-group">
                        <label>å¯¾è±¡ã®ã‚µãƒ¼ãƒãƒ¼</label>
                        <select id="server" required>
                            <option value="" disabled selected>é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="ç”Ÿæ´»é¯–">ç”Ÿæ´»é¯–</option>
                            <option value="ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹">ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹</option>
                            <option value="é¬¼æ»…ã®åˆƒ">é¬¼æ»…ã®åˆƒ</option>
                            <option value="éŠƒã‚µãƒ¼ãƒãƒ¼">éŠƒã‚µãƒ¼ãƒãƒ¼</option>
                            <option value="ãƒ­ãƒ“ãƒ¼/ãã®ä»–">ãƒ­ãƒ“ãƒ¼/ãã®ä»–</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>å ±å‘Šå†…å®¹</label>
                        <textarea id="content" placeholder="è©³ç´°ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„..." required></textarea>
                    </div>
                    <div class="submit-area">
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <i class="fas fa-paper-plane"></i> é‹å–¶ã«é€ä¿¡
                        </button>
                        <div id="msg"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer>&copy; 2026 ã“ã‚“é¯– | Have a nice day!</footer>

    <script>
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1472215977398898688/o5tS5NJSTQbdUD0TD5j2CeUb-fuolE9ze0O82D_zBLzZ-RXiNYmy-l3ybty_bNR7DHpf";
        const BLOCK_LIST = ["183.180.185.58"]; 

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('active'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        document.getElementById('reportForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const msg = document.getElementById('msg');
            
            btn.disabled = true; 
            btn.style.opacity = "0"; 
            msg.style.display = "flex"; 
            msg.innerText = "é€ä¿¡ä¸­...";
            msg.style.background = "transparent";
            msg.style.color = "var(--text-main)";

            let userIP = "å–å¾—å¤±æ•—";
            try { 
                const ipRes = await fetch('https://api.ipify.org?format=json'); 
                const ipData = await ipRes.json(); 
                userIP = ipData.ip; 
            } catch (err) {}

            if (BLOCK_LIST.includes(userIP)) {
                msg.innerText = "âŒ é€ä¿¡æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“"; 
                msg.style.background = "#fff0f0"; 
                msg.style.color = "var(--soft-red)";
                setTimeout(() => { msg.style.display = "none"; btn.disabled = false; btn.style.opacity = "1"; }, 3000);
                return;
            }

            const payload = {
                content: "<@&1460600001653903646> <@&1460591701763690547>",
                embeds: [{
                    title: "ğŸ“¢ é€šå ±ãƒ»å ±å‘Šã‚’å—ä¿¡ã—ã¾ã—ãŸ",
                    color: 3382256,
                    fields: [
                        { name: "ğŸ‘¤ å ±å‘Šè€…", value: "`" + document.getElementById('reporter').value + "`", inline: true },
                        { name: "ğŸ“ ã‚µãƒ¼ãƒãƒ¼", value: "`" + document.getElementById('server').value + "`", inline: true },
                        { name: "ğŸ“ å†…å®¹", value: document.getElementById('content').value },
                        { name: "ğŸŒ é€ä¿¡å…ƒIP", value: "`" + userIP + "`" }
                    ],
                    footer: { text: "ã“ã‚“é¯– Report System" },
                    timestamp: new Date().toISOString()
                }]
            };

            try {
                const res = await fetch(WEBHOOK_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (res.ok) {
                    msg.innerText = "âœ… é€ä¿¡å®Œäº†"; 
                    msg.style.background = "#d3f9d8"; 
                    msg.style.color = "#2b8a3e";
                    document.getElementById('reportForm').reset();
                } else { throw new Error(); }
            } catch (err) {
                msg.innerText = "âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ"; 
                msg.style.background = "#fff0f0"; 
                msg.style.color = "var(--soft-red)";
            }
            
            setTimeout(() => { msg.style.display = "none"; btn.disabled = false; btn.style.opacity = "1"; }, 3000);
        });
    </script>
</body>
</html>

